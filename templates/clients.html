{% extends "base.html" %} {% block content %}
<h2>Clients</h2>

<form method="POST" class="mb-4 p-3 border rounded bg-white">
  <div class="row g-3 align-items-end">
    <div class="col-md-5">
      <label for="name" class="form-label">Client Name</label>
      <input
        type="text"
        name="name"
        id="name"
        class="form-control"
        placeholder="e.g., Stark Industries"
        required
      />
    </div>
    <div class="col-md-5">
      <label for="email" class="form-label">Client Email</label>
      <input
        type="email"
        name="email"
        id="email"
        class="form-control"
        placeholder="e.g., tony@stark.com"
      />
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-primary w-100">Add Client</button>
    </div>
  </div>
</form>

<div class="card">
  <div class="card-header">Client List</div>
  <ul class="list-group list-group-flush">
    {% for client in clients %}
    <li
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <div>
        <h5 class="mb-1">{{ client.name }}</h5>
        <p class="mb-1 text-muted">{{ client.email }}</p>
      </div>
      <form
        action="{{ url_for('delete_client', client_id=client.id) }}"
        method="POST"
        onsubmit="return confirm('Are you sure you want to delete this client?');"
      >
        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
      </form>
    </li>
    {% else %}
    <li class="list-group-item">
      No clients yet. Add one using the form above!
    </li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
